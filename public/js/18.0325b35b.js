"use strict";(self["webpackChunkwex_results"]=self["webpackChunkwex_results"]||[]).push([[18],{2018:(e,a,t)=>{t.r(a),t.d(a,{default:()=>W});var s=t(9835),l=t(6970);const o={class:"text-h5 q-mt-sm q-mb-xs"},m={key:0},r={class:"q-pa-sm",align:"right"},i={class:"q-pa-sm"},n=(0,s._)("strong",null,"Class",-1),u={align:"right"};function c(e,a,t,c,d,h){const p=(0,s.up)("confirm-dialog"),f=(0,s.up)("q-card-section"),g=(0,s.up)("q-btn"),_=(0,s.up)("q-separator"),v=(0,s.up)("q-input"),D=(0,s.up)("q-select"),b=(0,s.up)("q-form"),q=(0,s.up)("q-card"),w=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{ref:"confirmDialog"},null,512),(0,s.Wm)(q,{class:"my-card no-borders",flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{horizontal:""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s._)("div",o,(0,l.zw)(d.class_room.name),1),(0,s._)("div",null,(0,l.zw)(d.class_room.stream),1),d.class_room.teacher?((0,s.wg)(),(0,s.iD)("div",m,(0,l.zw)(d.class_room.teacher_detail.name),1)):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s._)("div",r,[(0,s.Wm)(g,{color:"negative",label:"Delete","no-caps":"",dense:"",onClick:a[0]||(a[0]=e=>h.deleteClassRoom(d.class_room.id))})]),(0,s.Wm)(_),(0,s._)("div",null,[(0,s._)("div",i,[n,(0,s.Wm)(b,{onSubmit:h.updateClassRoom,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{modelValue:d.formData.name,"onUpdate:modelValue":a[1]||(a[1]=e=>d.formData.name=e),type:"text",label:"Name",required:""},null,8,["modelValue"]),(0,s.Wm)(v,{modelValue:d.formData.stream,"onUpdate:modelValue":a[2]||(a[2]=e=>d.formData.stream=e),type:"text",label:"Stream"},null,8,["modelValue"]),(0,s.Wm)(D,{outlined:"",modelValue:d.formData.level,"onUpdate:modelValue":a[3]||(a[3]=e=>d.formData.level=e),"option-label":"name","option-value":"id",options:d.levels,label:"Level","emit-value":"","map-options":""},null,8,["modelValue","options"]),(0,s.Wm)(D,{outlined:"",modelValue:d.formData.teacher,"onUpdate:modelValue":a[4]||(a[4]=e=>d.formData.teacher=e),"option-label":"name","option-value":"id",options:d.teachers,label:"Class Teacher","emit-value":"","map-options":""},null,8,["modelValue","options"]),(0,s._)("div",u,[(0,s.Wm)(g,{label:"update",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])])])),_:1})])),_:1})}var d=t(3419);const h={components:{ConfirmDialog:d.Z},data(){return{class_room:{},levels:[],teachers:[],formData:{name:"",stream:"",level:null,teacher:null}}},created(){this.getClassRoom(),this.getLevels(),this.getTeachers()},methods:{getClassRoom(){this.$api.get(`/class-rooms/${this.$route.params.id}/`).then((e=>{this.class_room=e.data,console.log(this.class_room),this.formData.name=this.class_room.name,this.formData.stream=this.class_room.stream,this.formData.level=this.class_room.level,this.formData.teacher=this.class_room.teacher}))},getLevels(){this.$api.get("/levels/").then((e=>{this.levels=e.data}))},getTeachers(){this.$api.get("/teachers/").then((e=>{this.teachers=e.data}))},updateClassRoom(){console.log(this.formData),this.$api.put(`/class-rooms/${this.class_room.id}/`,this.formData).then((e=>{this.class_room=e.data,console.log(e.data)}))},deleteClassRoom(e){this.$refs.confirmDialog.show({title:"Hello",message:`Are you sure you want to delete the class room "${e}"?`,okButton:"Yes, delete"}).then((a=>{a&&this.$api.delete(`/class-rooms/${e}/`).then((e=>{204==e.status&&this.$router.push("/class-rooms")}))}))},getClassRooms(){this.$api.get("/class-rooms/").then((e=>{this.classRooms=e.data}))}}};var p=t(1639),f=t(9885),g=t(4458),_=t(3190),v=t(4455),D=t(926),b=t(8326),q=t(6611),w=t(9812),C=t(9984),$=t.n(C);const V=(0,p.Z)(h,[["render",c]]),W=V;$()(h,"components",{QPage:f.Z,QCard:g.Z,QCardSection:_.Z,QBtn:v.Z,QSeparator:D.Z,QForm:b.Z,QInput:q.Z,QSelect:w.Z})}}]);