"use strict";(self["webpackChunkwex_results"]=self["webpackChunkwex_results"]||[]).push([[565],{2565:(t,e,a)=>{a.r(e),a.d(e,{default:()=>x});var l=a(9835),s=a(6970);const o={class:"q-my-sm q-px-sm flex justify-between"},d=(0,l.Uk)(" Student Info "),m=(0,l._)("label",{class:"text-grey-8"},"Date of Birth",-1),n={class:"row q-pa-xs rounded-borders",style:{border:"1px solid #dddddd"}},u={class:"col-9 q-my-auto"},r={class:"col-3",align:"right"},i={class:"row items-center justify-end q-gutter-sm"},p={align:"right"};function c(t,e,a,c,f,h){const _=(0,l.up)("q-btn"),b=(0,l.up)("router-link"),D=(0,l.up)("q-input"),y=(0,l.up)("q-date"),w=(0,l.up)("q-popup-proxy"),q=(0,l.up)("q-select"),v=(0,l.up)("q-form"),V=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("h6",o,[d,(0,l.Wm)(b,{to:`/students/${t.$route.params.id}/report`},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{color:"primary",label:"Report","no-caps":"",flat:"",dense:""})])),_:1},8,["to"])]),(0,l.Wm)(v,{onSubmit:h.updateStudent,class:"q-gutter-md q-pa-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{modelValue:f.formData.first_name,"onUpdate:modelValue":e[0]||(e[0]=t=>f.formData.first_name=t),type:"text",label:"First Name",required:""},null,8,["modelValue"]),(0,l.Wm)(D,{modelValue:f.formData.last_name,"onUpdate:modelValue":e[1]||(e[1]=t=>f.formData.last_name=t),type:"text",label:"Last Name",required:""},null,8,["modelValue"]),(0,l.Wm)(D,{modelValue:f.formData.middle_name,"onUpdate:modelValue":e[2]||(e[2]=t=>f.formData.middle_name=t),type:"text",label:"Middle Name"},null,8,["modelValue"]),(0,l._)("div",null,[m,(0,l._)("div",n,[(0,l._)("div",u,(0,s.zw)(f.formData.dob),1),(0,l._)("div",r,[(0,l.Wm)(_,{col:"2",icon:"event",round:"",color:"primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:f.formData.dob,"onUpdate:modelValue":e[3]||(e[3]=t=>f.formData.dob=t),mask:"YYYY-MM-DD",title:f.formData.dob,subtitle:"Date of Birth","years-in-month-view":""},{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.wy)((0,l.Wm)(_,{label:"Cancel",color:"primary",flat:""},null,512),[[V]]),(0,l.wy)((0,l.Wm)(_,{label:"OK",color:"primary",flat:""},null,512),[[V]])])])),_:1},8,["modelValue","title"])])),_:1})])),_:1})])])]),(0,l.Wm)(q,{outlined:"",modelValue:f.formData.class_room,"onUpdate:modelValue":e[4]||(e[4]=t=>f.formData.class_room=t),"option-label":"name","option-value":"id",options:f.classRooms,label:"Class Room","emit-value":"","map-options":""},null,8,["modelValue","options"]),(0,l._)("div",p,[(0,l.Wm)(_,{label:"update",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])}const f={data(){return{classRooms:[],student:{},formData:{first_name:null,last_name:null,middle_name:null,dob:null,class_room:null}}},created(){this.getClassRooms(),this.getStudent()},methods:{getStudent(){this.$api.get(`/students/${this.$route.params.id}/`).then((t=>{this.student=t.data,this.$emit("updateStudent",t.data),this.formData.first_name=this.student.first_name,this.formData.last_name=this.student.last_name,this.formData.middle_name=this.student.middle_name,this.formData.dob=this.student.dob,this.formData.class_room=this.student.class_room}))},updateStudent(){this.$api.put(`/students/${this.student.id}/`,this.formData).then((t=>{this.student=t.data,this.$emit("updateStudent",t.data)}))},getClassRooms(){this.$api.get("/class-rooms/").then((t=>{this.classRooms=t.data}))}}};var h=a(1639),_=a(4455),b=a(8326),D=a(6611),y=a(2765),w=a(6711),q=a(9812),v=a(2146),V=a(9984),g=a.n(V);const W=(0,h.Z)(f,[["render",c]]),x=W;g()(f,"components",{QBtn:_.Z,QForm:b.Z,QInput:D.Z,QPopupProxy:y.Z,QDate:w.Z,QSelect:q.Z}),g()(f,"directives",{ClosePopup:v.Z})}}]);