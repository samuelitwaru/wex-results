"use strict";(self["webpackChunkwex_results"]=self["webpackChunkwex_results"]||[]).push([[671],{671:(t,e,s)=>{s.r(e),s.d(e,{default:()=>Z});var a=s(9835),l=s(6970);const o={class:"text-h5 q-mt-sm q-mb-xs"},u={class:"subtitle q-mt-sm q-mb-xs"},r={class:"row"},c={class:"col-12 q-pa-sm"},m=(0,a._)("strong",null,"Subject",-1),n={align:"right"},i=(0,a._)("div",{class:"col-12 q-pa-sm"},[(0,a._)("strong",null,"Teachers")],-1),b=(0,a._)("div",{class:"col-12 q-pa-sm"},[(0,a._)("strong",null,"Classes")],-1),d={class:"absolute-bottom q-pa-sm",align:"right"};function p(t,e,s,p,h,f){const g=(0,a.up)("confirm-dialog"),j=(0,a.up)("q-card-section"),q=(0,a.up)("q-separator"),_=(0,a.up)("q-input"),w=(0,a.up)("q-btn"),v=(0,a.up)("q-form"),D=(0,a.up)("q-card"),S=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,{ref:"confirmDialog"},null,512),(0,a.Wm)(D,{class:"my-card no-borders",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{horizontal:""},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{class:"q-pt-xs"},{default:(0,a.w5)((()=>[(0,a._)("div",o,(0,l.zw)(h.subject.name),1),(0,a._)("div",u,(0,l.zw)(h.subject.abbr),1)])),_:1})])),_:1}),(0,a.Wm)(q),(0,a._)("div",r,[(0,a._)("div",c,[m,(0,a.Wm)(v,{onSubmit:f.updateSubject,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{modelValue:h.formData.name,"onUpdate:modelValue":e[0]||(e[0]=t=>h.formData.name=t),type:"text",label:"Name",required:""},null,8,["modelValue"]),(0,a.Wm)(_,{modelValue:h.formData.abbr,"onUpdate:modelValue":e[1]||(e[1]=t=>h.formData.abbr=t),type:"text",label:"Abbreviation"},null,8,["modelValue"]),(0,a._)("div",n,[(0,a.Wm)(w,{label:"update",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])]),i,b])])),_:1}),(0,a._)("div",d,[(0,a.Wm)(w,{color:"negative",label:"Delete","no-caps":"",dense:"",onClick:e[2]||(e[2]=t=>f.deleteSubject(h.subject.id))})])])),_:1})}var h=s(3419);const f={components:{ConfirmDialog:h.Z},data(){return{subject:{},classRooms:[],formData:{name:"",abbr:""}}},created(){this.getSubject(),this.getClassRooms()},methods:{getSubject(){this.$api.get(`/subjects/${this.$route.params.id}/`).then((t=>{this.subject=t.data,console.log(this.subject),this.formData.name=this.subject.name,this.formData.abbr=this.subject.abbr}))},updateSubject(){this.$api.put(`/subjects/${this.subject.id}/`,this.formData).then((t=>{this.subject=t.data,console.log(t.data)}))},deleteSubject(t){this.$refs.confirmDialog.show({title:"Hello",message:`Are you sure you want to delete the subject "${t}"?`,okButton:"Yes, delete"}).then((e=>{e&&this.$api.delete(`/subjects/${t}/`).then((t=>{204==t.status&&this.$router.push("/subjects")}))}))},getClassRooms(){this.$api.get("/class-rooms/").then((t=>{this.classRooms=t.data}))}}};var g=s(1639),j=s(9885),q=s(4458),_=s(3190),w=s(926),v=s(8326),D=s(6611),S=s(4455),$=s(9984),W=s.n($);const C=(0,g.Z)(f,[["render",p]]),Z=C;W()(f,"components",{QPage:j.Z,QCard:q.Z,QCardSection:_.Z,QSeparator:w.Z,QForm:v.Z,QInput:D.Z,QBtn:S.Z})}}]);