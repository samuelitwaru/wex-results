"use strict";(self["webpackChunkwex_results"]=self["webpackChunkwex_results"]||[]).push([[850],{4850:(e,t,s)=>{s.r(t),s.d(t,{default:()=>V});var a=s(9835);const n={class:"q-pa-sm"},i={class:"flex justify-between q-py-sm"},l=(0,a._)("label",{class:"text-h4"},"Grading Systems",-1);function r(e,t,s,r,o,m){const d=(0,a.up)("confirm-dialog"),u=(0,a.up)("create-grading-system-modal"),c=(0,a.up)("q-btn"),g=(0,a.up)("router-link"),p=(0,a.up)("q-td"),y=(0,a.up)("q-table"),f=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{ref:"confirmDialog"},null,512),(0,a._)("div",n,[(0,a._)("div",i,[l,(0,a.Wm)(u,{onAddGradingSystem:t[0]||(t[0]=e=>o.grading_systems.push(e))})]),(0,a.Wm)(y,{rows:o.grading_systems,columns:o.columns,"row-key":"id","rows-per-page-options":[50]},{"body-cell-action":(0,a.w5)((e=>[(0,a.Wm)(p,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"text-white",to:`/grading-systems/${e.key}`},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{color:"primary","icon-right":"edit","no-caps":"",flat:"",dense:""})])),_:2},1032,["to"]),(0,a.Wm)(c,{color:"negative","icon-right":"delete","no-caps":"",flat:"",dense:"",onClick:t=>m.deleteGradingSystem(e.key)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])])),_:1})}const o=(0,a._)("div",{class:"text-h6"},"New Grading System",-1),m={class:"flex justify-between"};function d(e,t,s,n,i,l){const r=(0,a.up)("q-btn"),d=(0,a.up)("q-card-section"),u=(0,a.up)("q-input"),c=(0,a.up)("q-form"),g=(0,a.up)("q-card-actions"),p=(0,a.up)("q-card"),y=(0,a.up)("q-dialog"),f=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(r,{label:"New Grading System",icon:"add",color:"primary",onClick:t[0]||(t[0]=e=>n.medium=!0)}),(0,a.Wm)(y,{modelValue:n.medium,"onUpdate:modelValue":t[3]||(t[3]=e=>n.medium=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{style:{width:"700px","max-width":"80vw"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[o])),_:1}),(0,a.Wm)(d,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onSubmit:l.createGradingSystem,onReset:l.resetForm,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:i.formData.name,"onUpdate:modelValue":t[1]||(t[1]=e=>i.formData.name=e),type:"text",label:"Name",required:""},null,8,["modelValue"]),(0,a.Wm)(u,{modelValue:i.formData.description,"onUpdate:modelValue":t[2]||(t[2]=e=>i.formData.description=e),type:"text",label:"Description"},null,8,["modelValue"]),(0,a._)("div",m,[(0,a._)("div",null,[(0,a.wy)((0,a.Wm)(r,{flat:"",color:"primary",label:"Cancel"},null,512),[[f]])]),(0,a.Wm)(r,{label:"Submit",type:"submit",color:"primary"})])])),_:1},8,["onSubmit","onReset"])])),_:1}),(0,a.Wm)(g,{align:"right",class:"bg-white text-teal"})])),_:1})])),_:1},8,["modelValue"])])}var u=s(499);const c={setup(){return{medium:(0,u.iH)(!1)}},data(){return{grading_systems:[],formData:{name:"",rank:"",description:""}}},created(){this.getGradingSystems()},methods:{createGradingSystem(){this.$api.post("/grading-systems/",this.formData).then((e=>{this.$emit("addGradingSystem",e.data),this.medium=!1,this.resetForm()}))},getGradingSystems(){this.$api.get("/grading-systems/").then((e=>{this.grading_systems=e.data}))},resetForm(){this.formData.name=null,this.formData.rank=null,this.formData.description=null}}};var g=s(1639),p=s(4455),y=s(2074),f=s(4458),h=s(3190),w=s(8326),_=s(6611),b=s(1821),S=s(2146),W=s(9984),q=s.n(W);const D=(0,g.Z)(c,[["render",d]]),G=D;q()(c,"components",{QBtn:p.Z,QDialog:y.Z,QCard:f.Z,QCardSection:h.Z,QForm:w.Z,QInput:_.Z,QCardActions:b.Z}),q()(c,"directives",{ClosePopup:S.Z});var Z=s(3419);const k={components:{CreateGradingSystemModal:G,ConfirmDialog:Z.Z},name:"GradingSystemsPage",data(){return{columns:[{name:"name",label:"Name",field:"name",align:"left"},{name:"description",label:"Description",field:"description",align:"left"},{name:"action",label:"Action",field:"action",align:"left"}],grading_systems:[]}},created(){this.getGradingSystems()},methods:{getGradingSystems(){this.$api.get("/grading-systems/").then((e=>{this.grading_systems=e.data,console.log(this.grading_systems)}))},deleteGradingSystem(e){this.$refs.confirmDialog.show({title:"Hello",message:`Are you sure you want to delete the class room "${e}"?`,okButton:"Yes, delete"}).then((t=>{t&&this.$api.delete(`/grading-systems/${e}/`).then((t=>{204==t.status&&(this.grading_systems=this.grading_systems.filter((t=>t.id!=e)))}))}))}}};var v=s(9885),x=s(786),C=s(7220);const Q=(0,g.Z)(k,[["render",r]]),V=Q;q()(k,"components",{QPage:v.Z,QTable:x.Z,QTd:C.Z,QBtn:p.Z})}}]);